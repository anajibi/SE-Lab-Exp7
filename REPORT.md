# <p style="text-align: center;">دانشگاه صنعتی شریف</br>دانشکده مهندسی کامپیوتر</br>آزمایشگاه مهندسی نرم افزار</p>

## اطلاعات تیم

### Ali Najibi, 98106123 </br>Alireza Honarvar, 98102551

## اطلاعات کلی 

در این آزمایش، قصد بررسی انوان مختلف باز آرایی ها با استفاده از ابزار های مختلف و پیاده سازی عملی آنها در کد برنامه خود را داریم.

## شرح

در ابتدا، همانطور که در ویدیوی آموزشی گفته شد، کد مربوط به
MiniJava 
را کلون کرده و در ریپازیتوری جدیدی که ساخته ایم پوش میکنیم، تا بتوانیم با استفاده از ابزار های برخط باز آرایی کد، 
کد را باز آرایی کنیم.

### دو مورد الگوی Facade

در ابتدا باید دو مورد الگوی Facade را در این کد اعمال کنیم، همانطور که 
میدانیم، این الگو اشاره به ساده سازی ارتباط کامپوننت های بیرونی که به اصطلاح به آنها Client نیز گفته میشود
و پکیج های دیگر که گاه میتوانند بسیار پیچیده باشند دارد.

1. اولین مورد اعمال این الگو درباره کلاس Scanner است، قبل از اعمال الگو، در کلاس Parser یک
Instance از نوع lexicalAnalyzer میسازیم و از آن برای اسکن کردن کد استفاده میکنیم، اما بعد از اعمال الگو،
یک Instance از نوع Scanner میسازیم و از آن برای اسکن کردن کد استفاده میکنیم، این کار باعث میشود که
کلاس Parser از کلاس Scanner کاملا مستقل شود و از آن به عنوان یک کامپوننت بیرونی استفاده کند.
2. همانند مورد بالا، این بار این کار را برای پکیج codeGenerator انجام میدهیم
به این شکل که یه کلاس جدید با نام CodeGeneratorFacade میسازیم و در آن یک Instance از نوع CodeGenerator
میسازیم و از آن برای تولید کد استفاده میکنیم، سپس در کلاس Parser از این کلاس برای تولید کد استفاده میکنیم.
علاوه بر آن برای اینکه کسی به کلاس CodeGenerator به صورت مستقیم و خارج از پکیج دسترسی نداشته باشد، این کلاس را از Public 
بودن خارج میکنیم.


### یک مورد الگوی State/Strategy یا استفاده از Polymorphism
برای اعمال این الگو، دقت کنید که در کلاس Action در متد ToString برا اساس تایپ یک سوئیچ کیس وجود دارد، برای از بین بردن این 
سوئیچ کیس، 3 زیرکلاس ساخته و کلاس Action را از نوع Abstract قرار میدهیم، در نتیجه، دیگر نیازی به 
این سوئیچ کیس نیست.

### یک مورد Separate Query from Modifier
در تابع getNextParameter در کلاس Method علاوه بر بازگرداندن یک پارامتر، index نیز یکی اضافه شده است، این یک مورد از جاهایی است که میتوانیم الگوی 
Separate Query from Modifier را اعمال کنیم، به این شکل که یک تابع دیگر تعریف میکنیم که index را افزایش دهد و این تابع را صدا میزنیم.

### 3 مورد از سایر بازآرایی ها
1. Self Encapsulate Field
در این باز آرایی، در کلاس Parser، استفاده ها از فیلد parseTable را
تغییر داده تا صرفا با setter و getter تغییر کند.
2. Polymorphism instead of condition
در کلاس Address در متد toString
با استفاده از type خروجی مشخص شده است، برای حل این مشکل، این کلاس را Abstract کرده و 3 کلاس دیگر تعریف میکنیم تا بجای این کلاس مورد استفاده قرار بگیرند و کد را اصلاح میکنیم
3. Self Encapsulate Field
 در کلاس SymbolTable برای فیلد mem این بازآرایی را انجام دادیم.
